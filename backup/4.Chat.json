{
  "name": "4.Chat",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "availableInChat": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        -304,
        0
      ],
      "id": "bf5c4e2d-ba49-4682-94eb-b779691d901b",
      "name": "When chat message received",
      "webhookId": "e694bea8-397d-4953-835d-734a7893defc"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        -32,
        0
      ],
      "id": "0290a04d-9f6a-4321-9cd7-5220a9f4b8dc",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "llama3.1:latest",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "typeVersion": 1,
      "position": [
        -80,
        224
      ],
      "id": "a4267881-1351-488e-8e98-fa07822723b8",
      "name": "Ollama Chat Model",
      "credentials": {
        "ollamaApi": {
          "id": "fkehrMxJshGzXPA7",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "model": "nomic-embed-text:latest"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOllama",
      "typeVersion": 1,
      "position": [
        256,
        432
      ],
      "id": "fa858e1e-8d24-47c2-b698-c6af57ccf7cb",
      "name": "Embeddings Ollama",
      "credentials": {
        "ollamaApi": {
          "id": "fkehrMxJshGzXPA7",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "responda as perguntas",
        "qdrantCollection": {
          "__rl": true,
          "value": "minha_collection",
          "mode": "list",
          "cachedResultName": "minha_collection"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "typeVersion": 1.3,
      "position": [
        176,
        224
      ],
      "id": "a241ae1e-1d26-4576-95e6-927d403c2357",
      "name": "documentos_sinesp",
      "credentials": {
        "qdrantApi": {
          "id": "Ns44chZ8nqCZcoU7",
          "name": "QdrantApi account"
        }
      },
      "notes": "Use esta ferramenta para responder perguntas sobre especificações de temas e modelos Sinesp"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        48,
        224
      ],
      "id": "e93386ea-b50e-400f-b728-043e1cd53b00",
      "name": "Simple Memory"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ollama Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Ollama": {
      "ai_embedding": [
        [
          {
            "node": "documentos_sinesp",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "documentos_sinesp": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "c5fa4355-3611-435e-8131-bf4aa849fc72",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "dd13b4e372b9df78df1f291eee98d5307371a69a336c840770655c0b5e900808"
  },
  "id": "iMTquQUy0ieYq7TW5u7x3",
  "tags": []
}